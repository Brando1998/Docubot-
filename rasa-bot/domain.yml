version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - solicitar_manifiesto
  - informar_datos
  - nlu_fallback

entities:
  - flete
  - descripcion
  - peso
  - fecha_cargue
  - fecha_descargue
  - tarjeta
  - licencia
  - origen
  - destino

slots:
  flete:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: flete
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: flete

  descripcion:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: descripcion
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: descripcion

  peso:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: peso
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: peso

  fecha_cargue:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: fecha_cargue
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: fecha_cargue

  fecha_descargue:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: fecha_descargue
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: fecha_descargue

  tarjeta:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: tarjeta
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: tarjeta

  licencia:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: licencia
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: licencia

  origen:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: origen
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: origen

  destino:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: destino
    - type: from_text
      conditions:
      - active_loop: manifiesto_form
        requested_slot: destino

responses:
  utter_greet:
    - text: "Â¡Hola! ğŸ‘‹ Soy tu asistente para generar manifiestos de carga. Â¿En quÃ© puedo ayudarte?"
  
  utter_goodbye:
    - text: "Â¡Hasta luego! ğŸ‘‹ Que tengas un buen dÃ­a."

  utter_ask_flete:
    - text: "ğŸ’° Por favor indÃ­came el valor del flete (ej: 150000 o $150,000)"

  utter_ask_descripcion:
    - text: "ğŸ“¦ DescrÃ­beme la carga que transportarÃ¡s (ej: cajas de electrodomÃ©sticos)"

  utter_ask_peso:
    - text: "âš–ï¸ Â¿CuÃ¡l es el peso total de la carga? (ej: 500 kg)"

  utter_ask_fecha_cargue:
    - text: "ğŸ“… Â¿CuÃ¡ndo se realizarÃ¡ el cargue? (ej: 15/08/2023 8:00 AM)"

  utter_ask_fecha_descargue:
    - text: "ğŸ“… Â¿CuÃ¡ndo se realizarÃ¡ la descarga? (ej: 16/08/2023 5:00 PM)"

  utter_ask_tarjeta:
    - text: "ğŸš— Ingresa el nÃºmero de la tarjeta de propiedad del vehÃ­culo"

  utter_ask_licencia:
    - text: "ğŸªª Por favor comparte el nÃºmero de tu licencia de conducciÃ³n"

  utter_ask_origen:
    - text: "ğŸ“ Â¿Desde dÃ³nde partirÃ¡ la carga? (ciudad/direcciÃ³n)"

  utter_ask_destino:
    - text: "ğŸ¯ Â¿CuÃ¡l es el destino final de la carga? (ciudad/direcciÃ³n)"

  utter_manifiesto_generado:
    - text: "âœ… Â¡Manifiesto generado con Ã©xito! En un momento recibirÃ¡s el documento."
  
  utter_fallback:
    - text: "ğŸ¤” Lo siento, no entendÃ­ eso. Â¿PodrÃ­as reformularlo?"

forms:
  manifiesto_form:
    required_slots:
      - flete
      - descripcion
      - peso
      - fecha_cargue
      - fecha_descargue
      - tarjeta
      - licencia
      - origen
      - destino

actions:
  - action_default_fallback
  - action_submit_manifiesto
  - validate_manifiesto_form